<?xml version="1.0" encoding="UTF-8"?>
<svg width="1400" height="1000" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Gradients -->
    <linearGradient id="headerGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#3B82F6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1D4ED8;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="tableGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#F8FAFC;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#F1F5F9;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="pkGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#F59E0B;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#D97706;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="fkGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#8B5CF6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#7C3AED;stop-opacity:1" />
    </linearGradient>
    
    <!-- Shadows -->
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="2" flood-color="#000000" flood-opacity="0.2"/>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="1400" height="1000" fill="#FFFFFF"/>
  
  <!-- Title -->
  <rect x="0" y="0" width="1400" height="60" fill="url(#headerGrad)"/>
  <text x="700" y="35" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="22" font-weight="bold">
    Pharmacy Management System - Entity Relationship Diagram
  </text>
  
  <!-- Users Table -->
  <rect x="50" y="80" width="280" height="320" rx="6" fill="white" stroke="#E5E7EB" stroke-width="2" filter="url(#shadow)"/>
  <rect x="50" y="80" width="280" height="35" rx="6" fill="#3B82F6"/>
  <text x="190" y="102" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="16" font-weight="bold">
    users
  </text>
  
  <!-- Users Fields -->
  <rect x="60" y="125" width="260" height="25" rx="3" fill="url(#pkGrad)"/>
  <text x="70" y="142" fill="white" font-family="Arial, sans-serif" font-size="12" font-weight="bold">ðŸ”‘ id (bigint)</text>
  
  <rect x="60" y="155" width="260" height="22" rx="3" fill="white"/>
  <text x="70" y="170" fill="#374151" font-family="Arial, sans-serif" font-size="11">name (varchar)</text>
  
  <rect x="60" y="182" width="260" height="22" rx="3" fill="white"/>
  <text x="70" y="197" fill="#374151" font-family="Arial, sans-serif" font-size="11">email (varchar) UNIQUE</text>
  
  <rect x="60" y="209" width="260" height="22" rx="3" fill="white"/>
  <text x="70" y="224" fill="#374151" font-family="Arial, sans-serif" font-size="11">email_verified_at (timestamp)</text>
  
  <rect x="60" y="236" width="260" height="22" rx="3" fill="white"/>
  <text x="70" y="251" fill="#374151" font-family="Arial, sans-serif" font-size="11">password (varchar)</text>
  
  <rect x="60" y="263" width="260" height="22" rx="3" fill="white"/>
  <text x="70" y="278" fill="#374151" font-family="Arial, sans-serif" font-size="11">remember_token (varchar)</text>
  
  <rect x="60" y="290" width="260" height="22" rx="3" fill="white"/>
  <text x="70" y="305" fill="#374151" font-family="Arial, sans-serif" font-size="11">created_at (timestamp)</text>
  
  <rect x="60" y="317" width="260" height="22" rx="3" fill="white"/>
  <text x="70" y="332" fill="#374151" font-family="Arial, sans-serif" font-size="11">updated_at (timestamp)</text>
  
  <!-- Drugs Table -->
  <rect x="380" y="80" width="280" height="360" rx="6" fill="white" stroke="#E5E7EB" stroke-width="2" filter="url(#shadow)"/>
  <rect x="380" y="80" width="280" height="35" rx="6" fill="#10B981"/>
  <text x="520" y="102" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="16" font-weight="bold">
    drugs
  </text>
  
  <!-- Drugs Fields -->
  <rect x="390" y="125" width="260" height="25" rx="3" fill="url(#pkGrad)"/>
  <text x="400" y="142" fill="white" font-family="Arial, sans-serif" font-size="12" font-weight="bold">ðŸ”‘ id (bigint)</text>
  
  <rect x="390" y="155" width="260" height="22" rx="3" fill="white"/>
  <text x="400" y="170" fill="#374151" font-family="Arial, sans-serif" font-size="11">name (varchar)</text>
  
  <rect x="390" y="182" width="260" height="22" rx="3" fill="white"/>
  <text x="400" y="197" fill="#374151" font-family="Arial, sans-serif" font-size="11">description (text)</text>
  
  <rect x="390" y="209" width="260" height="22" rx="3" fill="white"/>
  <text x="400" y="224" fill="#374151" font-family="Arial, sans-serif" font-size="11">quantity (integer)</text>
  
  <rect x="390" y="236" width="260" height="22" rx="3" fill="white"/>
  <text x="400" y="251" fill="#374151" font-family="Arial, sans-serif" font-size="11">unit_price (decimal 10,2)</text>
  
  <rect x="390" y="263" width="260" height="22" rx="3" fill="white"/>
  <text x="400" y="278" fill="#374151" font-family="Arial, sans-serif" font-size="11">expiry_date (date)</text>
  
  <rect x="390" y="290" width="260" height="22" rx="3" fill="white"/>
  <text x="400" y="305" fill="#374151" font-family="Arial, sans-serif" font-size="11">low_stock_threshold (integer)</text>
  
  <rect x="390" y="317" width="260" height="22" rx="3" fill="white"/>
  <text x="400" y="332" fill="#374151" font-family="Arial, sans-serif" font-size="11">batch_number (varchar)</text>
  
  <rect x="390" y="344" width="260" height="22" rx="3" fill="white"/>
  <text x="400" y="359" fill="#374151" font-family="Arial, sans-serif" font-size="11">manufacturer (varchar)</text>
  
  <rect x="390" y="371" width="260" height="22" rx="3" fill="white"/>
  <text x="400" y="386" fill="#374151" font-family="Arial, sans-serif" font-size="11">created_at (timestamp)</text>
  
  <rect x="390" y="398" width="260" height="22" rx="3" fill="white"/>
  <text x="400" y="413" fill="#374151" font-family="Arial, sans-serif" font-size="11">updated_at (timestamp)</text>
  
  <!-- Sales Table -->
  <rect x="710" y="80" width="280" height="400" rx="6" fill="white" stroke="#E5E7EB" stroke-width="2" filter="url(#shadow)"/>
  <rect x="710" y="80" width="280" height="35" rx="6" fill="#F59E0B"/>
  <text x="850" y="102" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="16" font-weight="bold">
    sales
  </text>
  
  <!-- Sales Fields -->
  <rect x="720" y="125" width="260" height="25" rx="3" fill="url(#pkGrad)"/>
  <text x="730" y="142" fill="white" font-family="Arial, sans-serif" font-size="12" font-weight="bold">ðŸ”‘ id (bigint)</text>
  
  <rect x="720" y="155" width="260" height="22" rx="3" fill="white"/>
  <text x="730" y="170" fill="#374151" font-family="Arial, sans-serif" font-size="11">sale_number (varchar) UNIQUE</text>
  
  <rect x="720" y="182" width="260" height="22" rx="3" fill="white"/>
  <text x="730" y="197" fill="#374151" font-family="Arial, sans-serif" font-size="11">customer_name (varchar)</text>
  
  <rect x="720" y="209" width="260" height="22" rx="3" fill="white"/>
  <text x="730" y="224" fill="#374151" font-family="Arial, sans-serif" font-size="11">customer_phone (varchar)</text>
  
  <rect x="720" y="236" width="260" height="22" rx="3" fill="white"/>
  <text x="730" y="251" fill="#374151" font-family="Arial, sans-serif" font-size="11">subtotal (decimal 12,2)</text>
  
  <rect x="720" y="263" width="260" height="22" rx="3" fill="white"/>
  <text x="730" y="278" fill="#374151" font-family="Arial, sans-serif" font-size="11">discount_amount (decimal 12,2)</text>
  
  <rect x="720" y="290" width="260" height="22" rx="3" fill="white"/>
  <text x="730" y="305" fill="#374151" font-family="Arial, sans-serif" font-size="11">tax_amount (decimal 12,2)</text>
  
  <rect x="720" y="317" width="260" height="22" rx="3" fill="white"/>
  <text x="730" y="332" fill="#374151" font-family="Arial, sans-serif" font-size="11">total_amount (decimal 12,2)</text>
  
  <rect x="720" y="344" width="260" height="22" rx="3" fill="white"/>
  <text x="730" y="359" fill="#374151" font-family="Arial, sans-serif" font-size="11">payment_method (enum)</text>
  
  <rect x="720" y="371" width="260" height="22" rx="3" fill="white"/>
  <text x="730" y="386" fill="#374151" font-family="Arial, sans-serif" font-size="11">amount_paid (decimal 12,2)</text>
  
  <rect x="720" y="398" width="260" height="22" rx="3" fill="white"/>
  <text x="730" y="413" fill="#374151" font-family="Arial, sans-serif" font-size="11">change_amount (decimal 12,2)</text>
  
  <rect x="720" y="425" width="260" height="22" rx="3" fill="white"/>
  <text x="730" y="440" fill="#374151" font-family="Arial, sans-serif" font-size="11">status (enum)</text>
  
  <rect x="720" y="452" width="260" height="22" rx="3" fill="white"/>
  <text x="730" y="467" fill="#374151" font-family="Arial, sans-serif" font-size="11">notes (text)</text>
  
  <rect x="720" y="479" width="260" height="22" rx="3" fill="url(#fkGrad)"/>
  <text x="730" y="494" fill="white" font-family="Arial, sans-serif" font-size="11" font-weight="bold">ðŸ”— served_by (bigint)</text>
  
  <rect x="720" y="506" width="260" height="22" rx="3" fill="white"/>
  <text x="730" y="521" fill="#374151" font-family="Arial, sans-serif" font-size="11">created_at (timestamp)</text>
  
  <rect x="720" y="533" width="260" height="22" rx="3" fill="white"/>
  <text x="730" y="548" fill="#374151" font-family="Arial, sans-serif" font-size="11">updated_at (timestamp)</text>
  
  <!-- Sale Items Table -->
  <rect x="1040" y="80" width="280" height="360" rx="6" fill="white" stroke="#E5E7EB" stroke-width="2" filter="url(#shadow)"/>
  <rect x="1040" y="80" width="280" height="35" rx="6" fill="#8B5CF6"/>
  <text x="1180" y="102" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="16" font-weight="bold">
    sale_items
  </text>
  
  <!-- Sale Items Fields -->
  <rect x="1050" y="125" width="260" height="25" rx="3" fill="url(#pkGrad)"/>
  <text x="1060" y="142" fill="white" font-family="Arial, sans-serif" font-size="12" font-weight="bold">ðŸ”‘ id (bigint)</text>
  
  <rect x="1050" y="155" width="260" height="22" rx="3" fill="url(#fkGrad)"/>
  <text x="1060" y="170" fill="white" font-family="Arial, sans-serif" font-size="11" font-weight="bold">ðŸ”— sale_id (bigint)</text>
  
  <rect x="1050" y="182" width="260" height="22" rx="3" fill="url(#fkGrad)"/>
  <text x="1060" y="197" fill="white" font-family="Arial, sans-serif" font-size="11" font-weight="bold">ðŸ”— drug_id (bigint)</text>
  
  <rect x="1050" y="209" width="260" height="22" rx="3" fill="white"/>
  <text x="1060" y="224" fill="#374151" font-family="Arial, sans-serif" font-size="11">quantity (integer)</text>
  
  <rect x="1050" y="236" width="260" height="22" rx="3" fill="white"/>
  <text x="1060" y="251" fill="#374151" font-family="Arial, sans-serif" font-size="11">unit_price (decimal 10,2)</text>
  
  <rect x="1050" y="263" width="260" height="22" rx="3" fill="white"/>
  <text x="1060" y="278" fill="#374151" font-family="Arial, sans-serif" font-size="11">line_total (decimal 12,2)</text>
  
  <rect x="1050" y="290" width="260" height="22" rx="3" fill="white"/>
  <text x="1060" y="305" fill="#374151" font-family="Arial, sans-serif" font-size="11">discount_amount (decimal 10,2)</text>
  
  <rect x="1050" y="317" width="260" height="22" rx="3" fill="white"/>
  <text x="1060" y="332" fill="#374151" font-family="Arial, sans-serif" font-size="11">batch_number (varchar)</text>
  
  <rect x="1050" y="344" width="260" height="22" rx="3" fill="white"/>
  <text x="1060" y="359" fill="#374151" font-family="Arial, sans-serif" font-size="11">expiry_date (date)</text>
  
  <rect x="1050" y="371" width="260" height="22" rx="3" fill="white"/>
  <text x="1060" y="386" fill="#374151" font-family="Arial, sans-serif" font-size="11">created_at (timestamp)</text>
  
  <rect x="1050" y="398" width="260" height="22" rx="3" fill="white"/>
  <text x="1060" y="413" fill="#374151" font-family="Arial, sans-serif" font-size="11">updated_at (timestamp)</text>
  
  <!-- Relationships -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="6" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#6B7280"/>
    </marker>
  </defs>
  
  <!-- Users to Sales (1:N) -->
  <line x1="330" y1="240" x2="710" y2="495" stroke="#6B7280" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="520" y="370" text-anchor="middle" fill="#6B7280" font-family="Arial, sans-serif" font-size="12" font-weight="bold">
    1:N
  </text>
  <text x="520" y="385" text-anchor="middle" fill="#9CA3AF" font-family="Arial, sans-serif" font-size="10">
    served_by
  </text>
  
  <!-- Sales to Sale Items (1:N) -->
  <line x1="990" y1="240" x2="1040" y2="160" stroke="#6B7280" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="1015" y="200" text-anchor="middle" fill="#6B7280" font-family="Arial, sans-serif" font-size="12" font-weight="bold">
    1:N
  </text>
  <text x="1015" y="215" text-anchor="middle" fill="#9CA3AF" font-family="Arial, sans-serif" font-size="10">
    sale_id
  </text>
  
  <!-- Drugs to Sale Items (1:N) -->
  <line x1="640" y1="240" x2="1040" y2="210" stroke="#6B7280" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="840" y="225" text-anchor="middle" fill="#6B7280" font-family="Arial, sans-serif" font-size="12" font-weight="bold">
    1:N
  </text>
  <text x="840" y="240" text-anchor="middle" fill="#9CA3AF" font-family="Arial, sans-serif" font-size="10">
    drug_id
  </text>
  
  <!-- Legend -->
  <rect x="50" y="480" width="300" height="120" rx="6" fill="white" stroke="#E5E7EB" stroke-width="2"/>
  <text x="200" y="500" text-anchor="middle" fill="#374151" font-family="Arial, sans-serif" font-size="14" font-weight="bold">
    Legend
  </text>
  
  <rect x="70" y="510" width="20" height="15" rx="3" fill="url(#pkGrad)"/>
  <text x="100" y="521" fill="#374151" font-family="Arial, sans-serif" font-size="11">Primary Key</text>
  
  <rect x="70" y="530" width="20" height="15" rx="3" fill="url(#fkGrad)"/>
  <text x="100" y="541" fill="#374151" font-family="Arial, sans-serif" font-size="11">Foreign Key</text>
  
  <rect x="70" y="550" width="20" height="15" rx="3" fill="white" stroke="#374151" stroke-width="1"/>
  <text x="100" y="561" fill="#374151" font-family="Arial, sans-serif" font-size="11">Regular Field</text>
  
  <line x1="70" y1="570" x2="90" y2="570" stroke="#6B7280" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="100" y="575" fill="#374151" font-family="Arial, sans-serif" font-size="11">Relationship</text>
  
  <!-- Constraints Info -->
  <rect x="400" y="480" width="400" height="120" rx="6" fill="white" stroke="#E5E7EB" stroke-width="2"/>
  <text x="600" y="500" text-anchor="middle" fill="#374151" font-family="Arial, sans-serif" font-size="14" font-weight="bold">
    Constraints & Rules
  </text>
  
  <text x="420" y="520" fill="#374151" font-family="Arial, sans-serif" font-size="10">â€¢ users.email: UNIQUE constraint</text>
  <text x="420" y="535" fill="#374151" font-family="Arial, sans-serif" font-size="10">â€¢ sales.sale_number: UNIQUE constraint</text>
  <text x="420" y="550" fill="#374151" font-family="Arial, sans-serif" font-size="10">â€¢ sales.payment_method: ENUM (cash, card, mobile_money, insurance)</text>
  <text x="420" y="565" fill="#374151" font-family="Arial, sans-serif" font-size="10">â€¢ sales.status: ENUM (completed, pending, cancelled, refunded)</text>
  <text x="420" y="580" fill="#374151" font-family="Arial, sans-serif" font-size="10">â€¢ Foreign Keys: CASCADE on delete</text>
  
  <!-- Database Info -->
  <rect x="850" y="480" width="350" height="120" rx="6" fill="white" stroke="#E5E7EB" stroke-width="2"/>
  <text x="1025" y="500" text-anchor="middle" fill="#374151" font-family="Arial, sans-serif" font-size="14" font-weight="bold">
    Database Info
  </text>
  
  <text x="870" y="520" fill="#374151" font-family="Arial, sans-serif" font-size="10">â€¢ Database: MySQL</text>
  <text x="870" y="535" fill="#374151" font-family="Arial, sans-serif" font-size="10">â€¢ ORM: Laravel Eloquent</text>
  <text x="870" y="550" fill="#374151" font-family="Arial, sans-serif" font-size="10">â€¢ Total Tables: 4</text>
  <text x="870" y="565" fill="#374151" font-family="Arial, sans-serif" font-size="10">â€¢ Relationships: 3</text>
  <text x="870" y="580" fill="#374151" font-family="Arial, sans-serif" font-size="10">â€¢ Indexes: Primary & Foreign Keys</text>
  
  <!-- Additional Tables Info -->
  <rect x="50" y="620" width="1150" height="80" rx="6" fill="white" stroke="#E5E7EB" stroke-width="2"/>
  <text x="625" y="640" text-anchor="middle" fill="#374151" font-family="Arial, sans-serif" font-size="14" font-weight="bold">
    Additional System Tables
  </text>
  
  <text x="70" y="660" fill="#374151" font-family="Arial, sans-serif" font-size="11">
    â€¢ password_reset_tokens: Password reset functionality
  </text>
  <text x="70" y="675" fill="#374151" font-family="Arial, sans-serif" font-size="11">
    â€¢ sessions: User session management
  </text>
  <text x="70" y="690" fill="#374151" font-family="Arial, sans-serif" font-size="11">
    â€¢ failed_jobs: Queue job failures
  </text>
  <text x="70" y="705" fill="#374151" font-family="Arial, sans-serif" font-size="11">
    â€¢ personal_access_tokens: API authentication
  </text>
  
  <!-- Model Relationships Summary -->
  <rect x="50" y="720" width="1150" height="80" rx="6" fill="white" stroke="#E5E7EB" stroke-width="2"/>
  <text x="625" y="740" text-anchor="middle" fill="#374151" font-family="Arial, sans-serif" font-size="14" font-weight="bold">
    Eloquent Model Relationships
  </text>
  
  <text x="70" y="760" fill="#374151" font-family="Arial, sans-serif" font-size="11">
    â€¢ User hasMany Sales (as server)
  </text>
  <text x="70" y="775" fill="#374151" font-family="Arial, sans-serif" font-size="11">
    â€¢ Sale belongsTo User (as server) and hasMany SaleItems
  </text>
  <text x="70" y="790" fill="#374151" font-family="Arial, sans-serif" font-size="11">
    â€¢ SaleItem belongsTo Sale and Drug
  </text>
  <text x="70" y="805" fill="#374151" font-family="Arial, sans-serif" font-size="11">
    â€¢ Drug hasMany SaleItems
  </text>
</svg>
